# Podman containers configuration for rootless mode

[containers]
# Сеть по умолчанию
default_network = "podman"

# Использовать короткие имена для образов
default_registries_search = ["docker.io", "quay.io"]

# Окружение по умолчанию
env = [
    "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
    "TERM=xterm",
]

# Инициализация контейнера
init = false

# Логирование
log_driver = "journald"

# Пространства имен
ipcns = "private"
netns = "private"
pidns = "private"
utsns = "private"
userns = "host"

# Безопасность
no_hosts = false
seccomp_profile = "/usr/share/containers/seccomp.json"

# Часовой пояс
tz = "local"

[network]
# Сетевой backend для rootless
network_backend = "netavark"

# DNS
dns_servers = ["8.8.8.8", "8.8.4.4"]

# Сетевой драйвер по умолчанию
default_network = "bridge"

[engine]
# Runtime по умолчанию
runtime = "crun"

# Доступные runtimes
[engine.runtimes]
crun = ["/usr/bin/crun"]
runc = ["/usr/bin/runc"]

# События
events_logger = "journald"

# Пространство имен
namespace = ""

# Поддержка cgroups v2
cgroup_manager = "cgroupfs"

# Rootless конфигурация
[engine.rootless]
# Использовать slirp4netns для сети
network_cmd = "slirp4netns"

# Порты для rootless контейнеров
port_driver = "builtin"

[machine]
# Конфигурация для podman machine (если используется)
cpus = 2
disk_size = 20
memory = 2048

[secrets]
# Драйвер для секретов
driver = "file"

[configmaps]
# Драйвер для configmaps
driver = "file"
