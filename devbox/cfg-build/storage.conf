# Podman storage configuration for rootless mode

[storage]
# Драйвер хранилища - overlay для rootless
driver = "overlay"

# Корневая директория для хранилища образов
graphroot = "/home/dev/.local/share/containers/storage"

# Временная директория для хранилища
runroot = "/run/user/1000/containers"

[storage.options]
# Опции для rootless режима
ignore_chown_errors = "true"

# Монтирование программ для rootless
mount_program = "/usr/bin/fuse-overlayfs"

# Опции для overlay
[storage.options.overlay]
# Использовать fuse-overlayfs для rootless
mount_program = "/usr/bin/fuse-overlayfs"

# Пропускать проверку поддержки metacopy
skip_mount_home = "true"

# Размер (в ГБ) для автоматической очистки
size = "10G"

# Игнорировать ошибки chown в rootless режиме
ignore_chown_errors = "true"

# Форсировать маску для новых файлов
force_mask = "0755"

[storage.options.thinpool]
# Конфигурация thinpool (если используется devicemapper)
# autoextend_percent = "20"
# autoextend_threshold = "80"
